<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" 
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head profile="http://www.w3.org/2006/03/hcard http://dublincore.org/documents/2008/08/04/dc-html/">
  <meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />

  <title>The ACME LUCK (Limited Use of Cached Keys) Protocol</title>

<style type="text/css">/*<![CDATA[*/
@viewport {
  zoom: 1.0;
  width: extend-to-zoom;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}

@media screen and (min-width: 1024px) {
  ul.toc, #rfc\.toc {
    position: fixed;
    bottom: 0;
    right: 0;
    right: calc(50vw - 500px);
    width: 300px;
    padding: 0 1em;
    z-index: 1;
  }
  #rfc\.toc {
    top: 16px;
  }
  ul.toc {
    top: 80px;
    overflow: auto;
  }

  body {
    padding-left: 1.5em;
    padding-right: 29em;
  }
}

body {
  font: 15px "Helvetica Neue",Helvetica,Arial,sans-serif;
  color: #333;
  font-size-adjust: 0.5;
  line-height: 130%;
  margin: 2.5em auto;
  max-width: 724px;
}

.title, .filename, h1, h2, h3, h4 {
  font-family: "Helvetica Neue",Helvetica,Arial,sans-serif;
  font-size-adjust: 0.5;
  font-weight: 500;
  color: #333;
  line-height: 100%;
  margin: 0.8em 0 0.3em;
}
.title { font-size: 36px; }
h1 { font-size: 30px; }
h2 { font-size: 24px; }
h3, h4 { font-size: 18px; }
h1 a[href], h2 a[href], h3 a[href], h4 a[href] {
  color: #333;
}

ul.toc li {
  list-style: none;
  text-indent: -2.5em;
  padding-left: 2.5em;
  padding-bottom: 5px;
  margin: 0;
}
ul.toc, ul.toc ul {
  margin: 0 0 0 1.5em;
}

table {
  margin-left: 0em;
  border-collapse: collapse;
}
th {
  text-align: left;
  border-bottom: 2px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
  vertical-align: top;
}
tr:nth-child(2n+1) > td,
tr:nth-child(2n+1) > th {
  background-color: #f9f9f9;
}
td.reference {
  max-width: 200px;
  border-top: none;
  padding-right: 1em;
}
.right {
  text-align: right;
}


table.header {
  width: 100%;
}
table.header td {
  border: none;
  background-color: transparent;
  color: black;
}
.filename {
  color: rgb(119, 119, 119);
  font-size: 23px;
  font-weight: normal;
  height: auto;
  line-height: 100%;
}
#rfc\.abstract+p {
  font-size: 20px;
  font-weight: 300;
  line-height: 130%;
}

samp, tt, code, pre {
  font: 11pt consolas, monospace;
  font-size-adjust: none;
}
pre {
  background-color: #eee;
  border: 1px solid #ddd;
  overflow-x: auto;
  padding: 5px;
  margin: 5px;
}
.figure {
  font-style: italic;
  margin: 0 1.5em;
}

address {
  margin: 10px 0 0;
}
.vcard {
  font-style: normal;
}
.vcardline {
  display: block;
}
.vcardline .fn {
  font-weight: bold;
}
.vcardline .hidden {
  display: none;
}

dl {
  margin-left: 1em;
}
dl.dl-horizontal: {
  margin-left: 0;
}
dl > dt {
  float: left;
  margin-right: 1em;
}
dl.nohang > dt {
  float: none;
}
dl > dd {
  margin-bottom: .5em;
}
dl.compact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}
ul.empty {
  list-style-type: none;
}
ul.empty li {
  margin-top: .5em;
}

hr {
  border: 0;
  border-top: 1px solid #eee;
}

a {
  text-decoration: none;
}
a[href] {
  color: #2a6496;
}
a[href]:hover {
  background-color: #eee;
}

ol, ul, li, p {
  padding: 0;
  margin: 0.5em 0 0.5em 2em;
}
li, p {
  margin-left: 0;
}

.github-fork-ribbon-wrapper {
  display: none;
}
@media screen and (min-width: 800px) {
  /* "Fork me on GitHub" CSS ribbon based on
   * https://github.com/simonwhitaker/github-fork-ribbon-css
   */
  .github-fork-ribbon {
    position: absolute;
    padding: 2px 0;
    background-color: #a00;
    background-image: linear-gradient(to bottom, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.15));
    box-shadow: 0 2px 3px 0 rgba(0, 0, 0, 0.5);
    font: 700 12px "Helvetica Neue", Helvetica, Arial, sans-serif;

    pointer-events: auto;

    top: 38px;
    right: -45px;

    transform: rotate(45deg);
  }

  .github-fork-ribbon a[href],
  .github-fork-ribbon a[href]:hover {
    color: #fff;
    background-color: transparent;
    text-decoration: none;
    text-shadow: 0 -1px rgba(0, 0, 0, 0.5);
    text-align: center;

    width: 190px;
    line-height: 18px;

    display: inline-block;
    padding: 2px 0;

    border: 1.5px dotted #fff;
    border-color: rgba(255, 255, 255, 0.6);
  }

  .github-fork-ribbon-wrapper {
    display: block;
    width: 130px;
    height: 130px;
    position: absolute;
    overflow: hidden;
    top: 0; right: 0;
    z-index: 2;
    pointer-events: none;
  }
}
@media screen and (min-width: 1000px) {
  .github-fork-ribbon-wrapper {
    position: fixed;
  }
/*]]>*/</style>

  <link href="#rfc.toc" rel="Contents"/>
<link href="#rfc.section.1" rel="Chapter" title="1 Introduction"/>
<link href="#rfc.section.2" rel="Chapter" title="2 Conventions used in this document"/>
<link href="#rfc.section.3" rel="Chapter" title="3 Protocol Flow"/>
<link href="#rfc.section.3.1" rel="Chapter" title="3.1 Bootstrap"/>
<link href="#rfc.section.3.2" rel="Chapter" title="3.2 Refresh"/>
<link href="#rfc.section.3.3" rel="Chapter" title="3.3 Termination"/>
<link href="#rfc.section.4" rel="Chapter" title="4 Security Considerations"/>
<link href="#rfc.references" rel="Chapter" title="5 References"/>
<link href="#rfc.references.1" rel="Chapter" title="5.1 Normative References"/>
<link href="#rfc.references.2" rel="Chapter" title="5.2 Informative References"/>
<link href="#rfc.appendix.A" rel="Chapter" title="A Examples"/>
<link href="#rfc.authors" rel="Chapter"/>


  <meta name="generator" content="xml2rfc version 2.5.1 - http://tools.ietf.org/tools/xml2rfc" />
  <link rel="schema.dct" href="http://purl.org/dc/terms/" />

  <meta name="dct.creator" content="Sheffer, Y., Lopez, D., and T. Fossati" />
  <meta name="dct.identifier" content="urn:ietf:id:draft-sheffer-acme-luck-latest" />
  <meta name="dct.issued" scheme="ISO8601" content="2016-9-17" />
  <meta name="dct.abstract" content="This memo describes the ACME LUCK (Limited Use of Cached Keys) protocol.  LUCK allows a domain owner to delegate to some other entity (e.g., a CDN edge cache) the authority to terminate TLS connections on its behalf, using short-term certificates.  These certificates allow the domain owner to revoke the TLS server&#8217;s authorization when necessary, without requiring certificate revocation." />
  <meta name="description" content="This memo describes the ACME LUCK (Limited Use of Cached Keys) protocol.  LUCK allows a domain owner to delegate to some other entity (e.g., a CDN edge cache) the authority to terminate TLS connections on its behalf, using short-term certificates.  These certificates allow the domain owner to revoke the TLS server&#8217;s authorization when necessary, without requiring certificate revocation." />

</head>

<body>

  <table class="header">
    <tbody>
    
    	<tr>
  <td class="left">ACME Working Group</td>
  <td class="right">Y. Sheffer</td>
</tr>
<tr>
  <td class="left">Internet-Draft</td>
  <td class="right">Intuit</td>
</tr>
<tr>
  <td class="left">Intended status: Standards Track</td>
  <td class="right">D. Lopez</td>
</tr>
<tr>
  <td class="left">Expires: March 21, 2017</td>
  <td class="right">Telefonica I+D</td>
</tr>
<tr>
  <td class="left"></td>
  <td class="right">T. Fossati</td>
</tr>
<tr>
  <td class="left"></td>
  <td class="right">Nokia</td>
</tr>
<tr>
  <td class="left"></td>
  <td class="right">September 17, 2016</td>
</tr>

    	
    </tbody>
  </table>

  <p class="title">The ACME LUCK (Limited Use of Cached Keys) Protocol<br />
  <span class="filename">draft-sheffer-acme-luck-latest</span></p>
  
  <h1 id="rfc.abstract">
  <a href="#rfc.abstract">Abstract</a>
</h1>
<p>This memo describes the ACME LUCK (Limited Use of Cached Keys) protocol.  LUCK allows a domain owner to delegate to some other entity (e.g., a CDN edge cache) the authority to terminate TLS connections on its behalf, using short-term certificates.  These certificates allow the domain owner to revoke the TLS server&#8217;s authorization when necessary, without requiring certificate revocation.</p>
<h1 id="rfc.status">
  <a href="#rfc.status">Status of This Memo</a>
</h1>
<p>This Internet-Draft is submitted in full conformance with the provisions of BCP 78 and BCP 79.</p>
<p>Internet-Drafts are working documents of the Internet Engineering Task Force (IETF).  Note that other groups may also distribute working documents as Internet-Drafts.  The list of current Internet-Drafts is at http://datatracker.ietf.org/drafts/current/.</p>
<p>Internet-Drafts are draft documents valid for a maximum of six months and may be updated, replaced, or obsoleted by other documents at any time.  It is inappropriate to use Internet-Drafts as reference material or to cite them other than as "work in progress."</p>
<p>This Internet-Draft will expire on March 21, 2017.</p>
<h1 id="rfc.copyrightnotice">
  <a href="#rfc.copyrightnotice">Copyright Notice</a>
</h1>
<p>Copyright (c) 2016 IETF Trust and the persons identified as the document authors.  All rights reserved.</p>
<p>This document is subject to BCP 78 and the IETF Trust's Legal Provisions Relating to IETF Documents (http://trustee.ietf.org/license-info) in effect on the date of publication of this document.  Please review these documents carefully, as they describe your rights and restrictions with respect to this document.  Code Components extracted from this document must include Simplified BSD License text as described in Section 4.e of the Trust Legal Provisions and are provided without warranty as described in the Simplified BSD License.</p>

  
  <hr class="noprint" />
  <h1 class="np" id="rfc.toc"><a href="#rfc.toc">Table of Contents</a></h1>
  <ul class="toc">

  	<li>1.   <a href="#rfc.section.1">Introduction</a></li>
<li>2.   <a href="#rfc.section.2">Conventions used in this document</a></li>
<li>3.   <a href="#rfc.section.3">Protocol Flow</a></li>
<ul><li>3.1.   <a href="#rfc.section.3.1">Bootstrap</a></li>
<li>3.2.   <a href="#rfc.section.3.2">Refresh</a></li>
<li>3.3.   <a href="#rfc.section.3.3">Termination</a></li>
</ul><li>4.   <a href="#rfc.section.4">Security Considerations</a></li>
<li>5.   <a href="#rfc.references">References</a></li>
<ul><li>5.1.   <a href="#rfc.references.1">Normative References</a></li>
<li>5.2.   <a href="#rfc.references.2">Informative References</a></li>
</ul><li>Appendix A.   <a href="#rfc.appendix.A">Examples</a></li>
<li><a href="#rfc.authors">Authors' Addresses</a></li>


  </ul>

  <h1 id="rfc.section.1"><a href="#rfc.section.1">1.</a> <a href="#introduction" id="introduction">Introduction</a></h1>
<p id="rfc.section.1.p.1">Content owners frequently prefer a Content Delivery Network (CDN) to distribute their content.  CDNs typically have very large footprint, which allows them to serve content to a global audience with a high aggregate bandwidth and low latency.  To protect this traffic, the CDN uses HTTPS and presents a certificate that usually bears the content owner&#8217;s name.  However, many content owners balk at sharing their long-term private keys with another organization.</p>
<p id="rfc.section.1.p.2">This memo describes the ACME LUCK (Limited Use of Cached Keys) protocol. LUCK extends ACME <a href="#I-D.ietf-acme-acme">[I-D.ietf-acme-acme]</a> to automate the generation and renewal of short-term certificates that a third party server  (e.g., a CDN edge cache), which has been explicitly authorized by the legit content owner, can use to serve content using that content owner&#8217;s domain name.</p>
<p id="rfc.section.1.p.3">The content owner can revoke the third party&#8217;s authorization when necessary by instructing the ACME server to stop the automatic certificate refresh and let the active certificate expire (e.g., after a few hours).   Note that, by enforcing the use of short-term certificates, LUCK doesn&#8217;t rely on explicit certificate revocation in order to work (see section 3.2.1 of <a href="#I-D.iab-web-pki-problems">[I-D.iab-web-pki-problems]</a>).</p>
<h1 id="rfc.section.2"><a href="#rfc.section.2">2.</a> <a href="#conventions-used-in-this-document" id="conventions-used-in-this-document">Conventions used in this document</a></h1>
<p id="rfc.section.2.p.1">The key words &#8220;MUST&#8221;, &#8220;MUST NOT&#8221;, &#8220;REQUIRED&#8221;, &#8220;SHALL&#8221;, &#8220;SHALL NOT&#8221;, &#8220;SHOULD&#8221;, &#8220;SHOULD NOT&#8221;, &#8220;RECOMMENDED&#8221;, &#8220;NOT RECOMMENDED&#8221;, &#8220;MAY&#8221;, and &#8220;OPTIONAL&#8221; in this document are to be interpreted as described in <a href="#RFC2119">[RFC2119]</a>.</p>
<p id="rfc.section.2.p.2">The following terms are used to identify the LUCK protocol actors:</p>
<p/>

<ul>
  <li>Content Owner: the owner of a domain name that uses a third party to deliver its content via HTTPS.</li>
  <li>TLS server: the node delegated by the Content Owner to terminate the TLS connection (typically a CDN edge cache).  During TLS handshake it offers its clients a certificate bearing the Content Owner&#8217;s name.</li>
  <li>ACME LUCK Server: an ACME server that also exposes LUCK interfaces to the Content Owner to boostrap and terminate the delegation, and to the TLS server to serve the automatically refreshed certificates.</li>
</ul>
<h1 id="rfc.section.3"><a href="#rfc.section.3">3.</a> <a href="#protocol-flow" id="protocol-flow">Protocol Flow</a></h1>
<h1 id="rfc.section.3.1"><a href="#rfc.section.3.1">3.1.</a> <a href="#bootstrap" id="bootstrap">Bootstrap</a></h1>
<div id="rfc.figure.1"/>
<div id="figprotoboot"/>
<pre>
TODO
</pre>
<p class="figure">Figure 1: Bootstrap</p>
<h1 id="rfc.section.3.2"><a href="#rfc.section.3.2">3.2.</a> <a href="#refresh" id="refresh">Refresh</a></h1>
<div id="rfc.figure.2"/>
<div id="figprotorefresh"/>
<pre>
TODO
</pre>
<p class="figure">Figure 2: Refresh</p>
<h1 id="rfc.section.3.3"><a href="#rfc.section.3.3">3.3.</a> <a href="#termination" id="termination">Termination</a></h1>
<div id="rfc.figure.3"/>
<div id="figprototerm"/>
<pre>
TODO
</pre>
<p class="figure">Figure 3: Termination</p>
<h1 id="rfc.section.4"><a href="#rfc.section.4">4.</a> <a href="#security-considerations" id="security-considerations">Security Considerations</a></h1>
<p id="rfc.section.4.p.1">TODO security considerations</p>
<h1 id="rfc.references"><a href="#rfc.references">5.</a> References</h1>
<h1 id="rfc.references.1"><a href="#rfc.references.1">5.1.</a> Normative References</h1>
<table>
  <tbody>
    <tr>
      <td class="reference">
        <b id="RFC2119">[RFC2119]</b>
      </td>
      <td class="top"><a>Bradner, S.</a>, "<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>", BCP 14, RFC 2119, DOI 10.17487/RFC2119, March 1997.</td>
    </tr>
  </tbody>
</table>
<h1 id="rfc.references.2"><a href="#rfc.references.2">5.2.</a> Informative References</h1>
<table>
  <tbody>
    <tr>
      <td class="reference">
        <b id="I-D.iab-web-pki-problems">[I-D.iab-web-pki-problems]</b>
      </td>
      <td class="top"><a>Housley, R.</a> and <a>K. O'Donoghue</a>, "<a href="http://tools.ietf.org/html/draft-iab-web-pki-problems-03">Problems with the Public Key Infrastructure (PKI) for the World Wide Web</a>", Internet-Draft draft-iab-web-pki-problems-03, September 2016.</td>
    </tr>
    <tr>
      <td class="reference">
        <b id="I-D.ietf-acme-acme">[I-D.ietf-acme-acme]</b>
      </td>
      <td class="top"><a>Barnes, R.</a>, <a>Hoffman-Andrews, J.</a> and <a>J. Kasten</a>, "<a href="http://tools.ietf.org/html/draft-ietf-acme-acme-03">Automatic Certificate Management Environment (ACME)</a>", Internet-Draft draft-ietf-acme-acme-03, July 2016.</td>
    </tr>
  </tbody>
</table>
<h1 id="rfc.appendix.A"><a href="#rfc.appendix.A">Appendix A.</a> <a href="#examples" id="examples">Examples</a></h1>
<p id="rfc.section.A.p.1">This appendix provides some examples of the ACME LUCK protocol operation.</p>
<div id="rfc.figure.4"/>
<div id="figexample"/>
<pre>
TODO
</pre>
<p class="figure">Figure 4: Example 1</p>
<h1 id="rfc.authors">
  <a href="#rfc.authors">Authors' Addresses</a>
</h1>
<div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Yaron Sheffer</span> 
	  <span class="n hidden">
		<span class="family-name">Sheffer</span>
	  </span>
	</span>
	<span class="org vcardline">Intuit</span>
	<span class="adr">
	  
	  <span class="vcardline">
		<span class="locality"></span> 
		<span class="region"></span>
		<span class="code"></span>
	  </span>
	  <span class="country-name vcardline"></span>
	</span>
	<span class="vcardline">EMail: <a href="mailto:yaronf.ietf@gmail.com">yaronf.ietf@gmail.com</a></span>

  </address>
</div><div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Diego Lopez</span> 
	  <span class="n hidden">
		<span class="family-name">Lopez</span>
	  </span>
	</span>
	<span class="org vcardline">Telefonica I+D</span>
	<span class="adr">
	  
	  <span class="vcardline">
		<span class="locality"></span> 
		<span class="region"></span>
		<span class="code"></span>
	  </span>
	  <span class="country-name vcardline"></span>
	</span>
	<span class="vcardline">EMail: <a href="mailto:diego@telefonica.es">diego@telefonica.es</a></span>

  </address>
</div><div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Thomas Fossati</span> 
	  <span class="n hidden">
		<span class="family-name">Fossati</span>
	  </span>
	</span>
	<span class="org vcardline">Nokia</span>
	<span class="adr">
	  
	  <span class="vcardline">
		<span class="locality"></span> 
		<span class="region"></span>
		<span class="code"></span>
	  </span>
	  <span class="country-name vcardline"></span>
	</span>
	<span class="vcardline">EMail: <a href="mailto:thomas.fossati@nokia.com">thomas.fossati@nokia.com</a></span>

  </address>
</div>

</body>
</html>
